{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["// Key for localStorage\nconst STORAGE_KEY = 'feedback-form-state';\n\n// Form data object\nlet formData = { email: '', message: '' };\n\n// Get form element\nconst form = document.querySelector('.feedback-form');\n\n// Load data on page load\ndocument.addEventListener('DOMContentLoaded', loadFormData);\n\n// Listen for form changes\nform.addEventListener('input', onFormInput);\n\n// Listen for form submission\nform.addEventListener('submit', onFormSubmit);\n\n// Load data from localStorage\nfunction loadFormData() {\n  try {\n    const savedData = localStorage.getItem(STORAGE_KEY);\n    console.log('Loading from localStorage:', savedData);\n\n    if (savedData) {\n      const parsedData = JSON.parse(savedData);\n\n      // Update formData with protection from undefined\n      formData.email = parsedData.email || '';\n      formData.message = parsedData.message || '';\n\n      // Fill form fields\n      form.elements.email.value = formData.email;\n      form.elements.message.value = formData.message;\n\n      console.log('FormData after loading:', formData);\n    } else {\n      console.log('No data in localStorage');\n    }\n  } catch (error) {\n    console.error('Error loading data from localStorage:', error);\n  }\n}\n\n// Handle form input\nfunction onFormInput(event) {\n  console.log(\n    'Input event on:',\n    event.target.name,\n    '| Value:',\n    event.target.value\n  );\n\n  // Update formData with current form values\n  formData.email = form.elements.email.value;\n  formData.message = form.elements.message.value;\n\n  console.log('Updated formData:', formData);\n\n  // Create object for localStorage with trimmed spaces\n  const dataToSave = {\n    email: formData.email.trim(),\n    message: formData.message.trim(),\n  };\n\n  console.log('Data to save:', dataToSave);\n\n  // Save to localStorage\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(dataToSave));\n\n  console.log('Saved to localStorage');\n  console.log(\n    'Current localStorage content:',\n    localStorage.getItem(STORAGE_KEY)\n  );\n}\n\n// Handle form submission\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  console.log('Form submission attempt...');\n\n  // Update formData with current values (trimmed)\n  formData.email = form.elements.email.value.trim();\n  formData.message = form.elements.message.value.trim();\n\n  console.log('FormData for submission:', formData);\n\n  // Check if both fields are filled\n  if (!formData.email || !formData.message) {\n    console.log('Not all fields are filled!');\n    console.log('Email:', formData.email ? 'filled' : 'empty');\n    console.log('Message:', formData.message ? 'filled' : 'empty');\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.log('All fields filled! Submitting form...');\n\n  // Output final form data to console\n  console.log(formData);\n\n  // Clear localStorage\n  localStorage.removeItem(STORAGE_KEY);\n  console.log('localStorage cleared');\n\n  // Clear formData object\n  formData.email = '';\n  formData.message = '';\n  console.log('FormData cleared:', formData);\n\n  // Reset form\n  form.reset();\n  console.log('Form reset');\n}\n"],"names":["STORAGE_KEY","formData","form","loadFormData","onFormInput","onFormSubmit","savedData","parsedData","error","event","dataToSave"],"mappings":"wFACA,MAAMA,EAAc,sBAGpB,IAAIC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAGvC,MAAMC,EAAO,SAAS,cAAc,gBAAgB,EAGpD,SAAS,iBAAiB,mBAAoBC,CAAY,EAG1DD,EAAK,iBAAiB,QAASE,CAAW,EAG1CF,EAAK,iBAAiB,SAAUG,CAAY,EAG5C,SAASF,GAAe,CACtB,GAAI,CACF,MAAMG,EAAY,aAAa,QAAQN,CAAW,EAGlD,GAFA,QAAQ,IAAI,6BAA8BM,CAAS,EAE/CA,EAAW,CACb,MAAMC,EAAa,KAAK,MAAMD,CAAS,EAGvCL,EAAS,MAAQM,EAAW,OAAS,GACrCN,EAAS,QAAUM,EAAW,SAAW,GAGzCL,EAAK,SAAS,MAAM,MAAQD,EAAS,MACrCC,EAAK,SAAS,QAAQ,MAAQD,EAAS,QAEvC,QAAQ,IAAI,0BAA2BA,CAAQ,CACrD,MACM,QAAQ,IAAI,yBAAyB,CAE3C,OAAWO,EAAO,CACd,QAAQ,MAAM,wCAAyCA,CAAK,CAChE,CACA,CAGA,SAASJ,EAAYK,EAAO,CAC1B,QAAQ,IACN,kBACAA,EAAM,OAAO,KACb,WACAA,EAAM,OAAO,KACjB,EAGER,EAAS,MAAQC,EAAK,SAAS,MAAM,MACrCD,EAAS,QAAUC,EAAK,SAAS,QAAQ,MAEzC,QAAQ,IAAI,oBAAqBD,CAAQ,EAGzC,MAAMS,EAAa,CACjB,MAAOT,EAAS,MAAM,KAAI,EAC1B,QAASA,EAAS,QAAQ,KAAI,CAClC,EAEE,QAAQ,IAAI,gBAAiBS,CAAU,EAGvC,aAAa,QAAQV,EAAa,KAAK,UAAUU,CAAU,CAAC,EAE5D,QAAQ,IAAI,uBAAuB,EACnC,QAAQ,IACN,gCACA,aAAa,QAAQV,CAAW,CACpC,CACA,CAGA,SAASK,EAAaI,EAAO,CAW3B,GAVAA,EAAM,eAAc,EACpB,QAAQ,IAAI,4BAA4B,EAGxCR,EAAS,MAAQC,EAAK,SAAS,MAAM,MAAM,KAAI,EAC/CD,EAAS,QAAUC,EAAK,SAAS,QAAQ,MAAM,KAAI,EAEnD,QAAQ,IAAI,2BAA4BD,CAAQ,EAG5C,CAACA,EAAS,OAAS,CAACA,EAAS,QAAS,CACxC,QAAQ,IAAI,4BAA4B,EACxC,QAAQ,IAAI,SAAUA,EAAS,MAAQ,SAAW,OAAO,EACzD,QAAQ,IAAI,WAAYA,EAAS,QAAU,SAAW,OAAO,EAC7D,MAAM,wBAAwB,EAC9B,MACJ,CAEE,QAAQ,IAAI,uCAAuC,EAGnD,QAAQ,IAAIA,CAAQ,EAGpB,aAAa,WAAWD,CAAW,EACnC,QAAQ,IAAI,sBAAsB,EAGlCC,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnB,QAAQ,IAAI,oBAAqBA,CAAQ,EAGzCC,EAAK,MAAK,EACV,QAAQ,IAAI,YAAY,CAC1B"}